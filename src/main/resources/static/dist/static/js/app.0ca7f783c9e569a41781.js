webpackJsonp([1],{"+DoQ":function(e,t){},"1PJi":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},a,!1,function(e){n("gsu9")},null,null).exports,r=n("/ocq"),s=n("mvHQ"),l=n.n(s),c={name:"PersonTable",data:function(){return{tableData:[],tableDatas:[],dialogFormEdit:!1,dialogFormAdd:!1,pageSize:5,currentPage:1,total:0,search:"",person:{id:"",age:"",name:""},fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:7,message:"长度在 2 到 7 个字符",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{min:2,message:"2个字符以内",trigger:"blur"}]}}},methods:{messageFun:function(e,t){this.$message({message:e,type:t})},handleSelectionChange:function(e){this.multipleSelection=e},DelEmpById:function(e){var t=this;this.$axios.delete("/del/"+e).then(function(e){t.$message({message:"删除成功！",type:"success"}),t.init()})},DelEmpBtn:function(){var e=this,t=this.multipleSelection,n="";if(void 0==this.multipleSelection||0==this.multipleSelection.length)this.$message.error("未选中数据！");else{for(var o=0;o<t.length;o++)n+=t[o].id+",";n=n.substring(0,n.lastIndexOf(",")),this.$confirm("确认删除id为"+n+"的员工吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.DelEmpById(n)}).catch(function(){e.messageFun("已取消删除","warning")})}},addAll:function(){var e=this;this.$confirm("确认随机添加18条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/person/aa").then(function(t){e.$message({message:"添加成功！",type:"success"}),e.init()})}).catch(function(){e.messageFun("已取消添加","warning")})},DeleteAll1:function(){this.$router.push({path:"/one"})},DeleteAll2:function(){this.$router.push({path:"/login"})},DeleteAll3:function(){var e=this;this.$axios.post("/logout").then(function(t){e.$message({message:t.data.msg,type:"success"}),e.$router.push({path:"/"})})},DeleteAll:function(){var e=this;this.$confirm("确认删除所有数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/person/deleteAll").then(function(t){e.$message({message:"删除成功！",type:"success"}),e.init()})}).catch(function(){e.messageFun("已取消删除！","warning")})},addSelect:function(){var e=this,t=this.multipleSelection,n=l()(t),o=new FormData;o.append("persons",n);void 0==this.multipleSelection||0==this.multipleSelection.length?this.$message.error("未选中数据！"):this.$confirm("确认添加所选的数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/person/10",o).then(function(t){e.$message({message:"添加成功！",type:"success"}),e.init()})}).catch(function(){e.messageFun("已取消添加！","warning")})},addTen:function(){var e=this;this.$confirm("确认每10条数据添加吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/person/11").then(function(t){var n=t.data,o=l()(n);e.$message({message:"添加成功！数据为："+o,type:"success"}),e.init()})}).catch(function(){e.messageFun("已取消添加","warning")})},init:function(){this.onSearch1()},helSearch:function(){this.currentPage=1,this.onSearch1()},onSearch1:function(){var e=this;this.$qs.stringify({});this.$axios({method:"post",url:"/person/pageHelp",params:{currPage:this.currentPage,pageSize:this.pageSize,onSearch:this.search}}).then(function(t){var n=t.data;e.tableData=n.data,e.total=n.total}).catch(function(e){console.log(e)})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.onSearch1()},handleCurrentChange:function(e){console.log("第 "+e+" 页"),this.currentPage=e,this.onSearch1()},add:function(e){var t=this,n=new URLSearchParams;n.append("id",e.id),n.append("name",e.name),n.append("age",e.age),""!=e.name&&""!=e.age?this.$axios.post("/insert",e).then(function(e){t.$message.success("添加成功"),t.dialogFormAdd=!1,t.init()}):this.$message.error("姓名和年龄不能为空！")},onSearch:function(){var e=this;this.$qs.stringify({id:this.search});this.$axios({method:"get",url:"/find?id="+this.search}).then(function(t){e.tableData=t.data}).catch(function(e){console.log(e)})},refreshData:function(){location.reload()},edit:function(e){var t=this,n=new URLSearchParams;n.append("name",e.name),n.append("age",e.age),this.$axios.put("/update",e).then(function(e){t.$message.success("修改成功"),t.dialogFormEdit=!1,t.init()}).catch(function(e){console.log(e)})},toEdit:function(e){this.person.id=e.row.id,this.person.age=e.row.age,this.person.name=e.row.name,this.dialogFormEdit=!0},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){this.$message.error("选中数据！"+e.file)},submits:function(e){var t=this;console.log(e);var n=new FormData;n.append("file",e.file),this.$axios({method:"post",url:"/log/ftp",contentType:"multipart/form-data",data:n}).then(function(e){var n=e.data,o=l()(n);t.$message({message:o,type:"success"})}).catch(function(e){console.log(e)})},deleteUser:function(e){var t=this;e.row.id?this.$confirm("确认是否删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(e.row.id),t.$axios.delete("/delete?id="+e.row.id,{id:e.row.id}).then(function(e){t.$message.success("删除成功"),t.init()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"warning",message:"已取消删除"})}):this.tableData.splice(e.$index,1)}},mounted:function(){this.init()}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticStyle:{"text-align":"left"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormAdd=!0}}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.DelEmpBtn}},[e._v("批量删除")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:e.addAll}},[e._v("一键添加")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:e.addSelect}},[e._v("添加所选数据")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-folder-add"},on:{click:e.addTen}},[e._v("每十条数据添加")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-error"},on:{click:e.DeleteAll}},[e._v("一键删除")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.DeleteAll1}},[e._v("111")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.DeleteAll2}},[e._v("222")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.DeleteAll3}},[e._v("注销")]),e._v(" "),n("el-popover",{ref:"popover",attrs:{placement:"right",title:"增删改查",width:"200",trigger:"click",content:"可以添加,删除,修改以及批量删除。"}}),e._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"primary"}},[e._v("提示")])],1),e._v(" "),n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"上传文件","label-width":e.formLabelWidth}},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),e._v(" "),n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{staticClass:"search_name",attrs:{size:"mini",placeholder:"输入关键字查询",clearable:""},on:{input:function(t){return e.helSearch()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticClass:"el-icon-search",attrs:{type:"text"},on:{click:function(t){return e.helSearch()}}},[e._v("查询\n      ")])],1),e._v(" "),n("el-form-item",[n("el-button",{staticClass:"el-icon-refresh",attrs:{type:"text"},on:{click:function(t){return e.refreshData()}}},[e._v("刷新\n      ")])],1)],1),e._v(" "),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","tooltip-effect":"dark","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"id",label:"ID",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"age",label:"年龄",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.age))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"warning"},on:{click:function(n){return e.toEdit(t)}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return e.deleteUser(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:"修改人员",visible:e.dialogFormEdit},on:{"update:visible":function(t){e.dialogFormEdit=t}}},[n("el-form",{ref:"person",staticClass:"demo-ruleForm",attrs:{model:e.person,rules:e.rules,"label-width":"70px",size:"medium"}},[n("el-form-item",{attrs:{label:"年龄",prop:"age"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.person.age,callback:function(t){e.$set(e.person,"age",t)},expression:"person.age"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.person.name,callback:function(t){e.$set(e.person,"name",t)},expression:"person.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormEdit=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit(e.person)}}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"添加人员","append-to-body":!0,visible:e.dialogFormAdd},on:{"update:visible":function(t){e.dialogFormAdd=t}}},[n("el-form",{ref:"person",staticClass:"demo-ruleForm",attrs:{model:e.person,rules:e.rules,"label-width":"70px",size:"medium"}},[n("el-form-item",{attrs:{label:"年龄",prop:"age"}},[n("el-input",{attrs:{"auto-complete":"one"},model:{value:e.person.age,callback:function(t){e.$set(e.person,"age",t)},expression:"person.age"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{attrs:{"auto-complete":"one"},model:{value:e.person.name,callback:function(t){e.$set(e.person,"name",t)},expression:"person.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormAdd=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add(e.person)}}},[e._v("确 定")])],1)],1),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var m=n("VU/8")(c,u,!1,function(e){n("1PJi")},"data-v-2b8549b6",null).exports,p=n("ZQ6q"),d=n.n(p),g={data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{id:"",userName:"",password:""},logining:!1,ruleForm2:{userName:"admin",password:"123456"},rules2:{userName:[{required:!0,message:"please enter your account",trigger:"blur"}],password:[{required:!0,message:"enter your password",trigger:"blur"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},checked:!1}},methods:{handleSubmit:function(e){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!"),!1;t.logining=!0,t.$axios.post("/resign",t.loginForm).then(function(e){var n=e.data;"200"==n.code?(t.logining=!1,t.$message.success(n.msg),t.$router.push({path:"/"})):(t.logining=!1,t.getCode(),t.$alert(n.msg,"info",{confirmButtonText:"ok"}))})})}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-page",attrs:{model:e.loginForm,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("用户注册")]),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e.loading?e._e():n("span",[e._v("注 册")])])],1)],1)],1)},staticRenderFns:[]};var h=n("VU/8")(g,f,!1,function(e){n("O45j")},"data-v-00afd476",null).exports,v={data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:""},logining:!1,ruleForm2:{username:"admin",password:"123456"},rules2:{username:[{required:!0,message:"please enter your account",trigger:"blur"}],password:[{required:!0,message:"enter your password",trigger:"blur"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},checked:!1}},created:function(){this.getCode(),this.getCookie()},methods:{getCode:function(){var e=this;this.$axios({method:"get",url:"/captchaImage"}).then(function(t){var n=t.data;e.codeUrl="data:image/gif;base64,"+n.img,e.loginForm.uuid=n.uuid})},getCookie:function(){var e=d.a.get("username"),t=d.a.get("password"),n=d.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:t,rememberMe:void 0!==n&&Boolean(n)}},doRegister:function(){this.$router.push({path:"/one"})},handleSubmit:function(e){var t=this;this.$refs.loginForm.validate(function(e){if(t.loginForm.rememberMe?(d.a.set("username",t.loginForm.username,{expires:30}),d.a.set("password",t.loginForm.password,{expires:30}),d.a.set("rememberMe",t.loginForm.rememberMe,{expires:30})):(d.a.remove("username"),d.a.remove("password"),d.a.remove("rememberMe")),!e)return console.log("error submit!"),!1;t.logining=!0,t.$axios.post("/login",t.loginForm).then(function(e){var n=e.data;"200"==n.code?(t.logining=!1,t.$message.success(n.msg),sessionStorage.setItem("user",t.loginForm.username),t.$router.push({path:"/file"})):(t.logining=!1,t.getCode(),t.$alert(n.msg,"info",{confirmButtonText:"ok"}))})})}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-page",attrs:{model:e.loginForm,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"code"}},[n("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),e._v(" "),n("div",{staticClass:"login-code"},[n("img",{staticClass:"login-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1),e._v(" "),n("el-checkbox",{staticClass:"rememberme",model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),e._v(" "),n("el-row",{staticStyle:{"text-align":"center","margin-top":"-10px"}},[n("el-link",{attrs:{type:"primary"}},[e._v("忘记密码")]),e._v(" "),n("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.doRegister()}}},[e._v("用户注册")])],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e.loading?n("span",[e._v("登 录 中...")]):n("span",[e._v("登 录")])])],1)],1)],1)},staticRenderFns:[]};var _=n("VU/8")(v,b,!1,function(e){n("+DoQ")},"data-v-b263c382",null).exports;o.default.use(r.a);var y=new r.a({routes:[{path:"/file",name:"file",component:m},{path:"/one",name:"one",component:h},{path:"/",name:"login",component:_}]}),w=n("mtWM"),$=n.n(w),x=n("zL8q"),F=n.n(x),k=(n("tvR6"),n("mw3O")),S=n.n(k);o.default.use(F.a),o.default.prototype.$axios=$.a,o.default.prototype.$qs=S.a,o.default.config.productionTip=!1,new o.default({el:"#app",router:y,components:{App:i},template:"<App/>"})},O45j:function(e,t){},gsu9:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0ca7f783c9e569a41781.js.map